<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Jasmine Spec Runner</title>


    <link rel="stylesheet" type="text/css" href="lib/jasmine/jasmine-1.3.1/jasmine.css">
    <script type="text/javascript" src="lib/jasmine/jasmine-1.3.1/jasmine.js"></script>
    <script type="text/javascript" src="lib/jasmine/jasmine-1.3.1/jasmine-html.js"></script>
    <script type="text/javascript" src="lib/sinon-1.7.1.js"></script>
    <!--script type="text/javascript" src="libs/jasmine-sinon.js"></script-->

    <script type="text/javascript" src="../lib/require-2.0.6.js"></script>


    <script type="text/javascript">

        var libsPath = '../lib/'; //libsPath relative to 'basePath'

        require.config({

            baseUrl: '../src',
            //urlArgs: 'cb=' + Math.random(),
            paths: {
                "jquery": libsPath + 'jQuery-1.8.1',
                "underscore": libsPath + 'underscore_amd-1.4.4',
                "backbone": libsPath + 'backbone_amd-1.0.0',
                "backbone-localStorage": libsPath + "local-storage",
                "text": libsPath + 'require-text',
                "utils": "../utils"
            },
            // "packages": ["utils"],
            shim: {
                'backbone-localStorage': {
                    deps: ['backbone'],
                    exports: 'Backbone'
                },
                jasmine: {
                    exports: 'jasmine'
                },
                'jasmine-html': {
                    deps: ['jasmine'],
                    exports: 'jasmine'
                }
            }
        });

        require(["jquery", "underscore", "backbone"], function ($, _, Backbone, Router, jasmineHtml) {

            var jasmineEnv = jasmine.getEnv();
            jasmineEnv.updateInterval = 1000;

            var htmlReporter = new jasmine.HtmlReporter();

            jasmineEnv.addReporter(htmlReporter);

            jasmineEnv.specFilter = function (spec) {
                return htmlReporter.specFilter(spec);
            };


            var specs = [];

            //specs.push('specs/RouterTest.js');
            //specs.push('specs/TodoItemViewTest.js');
            specs.push('specs/TodoListViewTest.js');

            $(function () {
                require(specs, function () {
                    jasmineEnv.execute();
                });
            });
        });

    </script>
</head>
<body>
<section id="todo" style="overflow: hidden; height: 1px;"></section>

</body>
</html>